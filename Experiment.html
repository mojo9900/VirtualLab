<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Experiments</title>
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Catamaran:wght@300&family=Overpass:wght@600&display=swap"
    rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
  <style>
    * {
      margin: 0;
      padding: 0;
      font-family: 'Catamaran', sans-serif;
    }

    body {
      min-height: 100vh;
    }

    header {
      height: 10vh;
      overflow-x: hidden;
      position: relative;
    }

    .nav-bar {
      display: flex;
      padding: 2px 90px;
      background-color: darkgrey;
    }

    .navlogo {
      flex: 25%;
    }

    .navlogo img {
      width: 80px;
      padding: 9px;
    }

    .navmenu {
      flex: 80%;
      display: relative;
    }

    .navmenu ul {
      display: absolute;
      float: right;
    }

    .navmenu ul li {
      list-style: none;
      display: inline-block;
      padding: 24px 28px;
    }

    .navmenu ul a {
      color: #fff;
      text-decoration: none;
      font-size: 16px
    }

    .navmenu ul li::after {
      content: '';
      width: 0%;
      height: 1px;
      background: DarkCyan;
      display: block;
      margin: auto;
      transition: .1s;
    }

    .navmenu ul li:hover::after {
      width: 100%;
    }

    .content {
      display: flex;
      width: 80%;
      margin: auto;
      min-height: 70vh;
      align-items: center;
    }

    .text h1 {
      font-size: 4.5em;
      font-weight: 600;
      font-family: 'Overpass', sans-serif;
      padding: 10px 0px;
    }

    .text h2 {
      font-family: 'Overpass', sans-serif;
      font-size: 2em;
      padding: 10px 0px;
    }

    .text h3 {
      font-family: 'Overpass', sans-serif;
      font-size: 1.4em;
    }

    .text p {
      text-align: justify;
      padding: 8px 0px;
      font-size: 1.2em;
    }
  </style>
</head>

<body>

  <header>
    <div class="nav-bar">
      <div class="navlogo">
        <a href="LandingPage.html"><img
            src="https://www.uowmkdu.edu.my/wp-content/themes/kdu/img/UOWMKDU-logb.png.webp"></a>
      </div>
      <div class="navmenu">
        <ul>
          <li><a href="Intro.html">Introduction</a></li>
          <li><a href="Theory.html">Theory</a></li>
          <li><a href="Experiment.html">Experiments</a></li>
          <li><a href="AboutUs.html">About Us</a></li>
        </ul>
      </div>
    </div>
  </header>

  <main>
    <section class="content">
      <div class="text">
        <h1>Experiments</h1>
        <h3>Enter the following variables to calculate the amount of power produced by the wind turbine</h3>
        <div>
          <div class="container">
            <div class="col-lg-6 col-md-6" style="padding:5px;">
              <label for="wSpeed" style="font-size: 14px; font-weight: bold; color: rgb(23, 44, 82);">Design Wind Speed:</label>

              <select name="wSpeed" id="wSpeed" type="number" style="font-size: 12px; font-weight: bold; color: rgb(23, 44, 82);">
                <option value="" selected disabled>--Please choose an option--</option>
                <option value="2">2 m/s</option>
                <option value="3">3 m/s</option>
                <option value="5">5 m/s</option>
                <option value="10">10 m/s</option>
                <option value="12">12 m/s</option>
                <option value="15">15 m/s</option>
                <option value="20">20 m/s</option>
              </select>
            </div>
            <div class="col-lg-6 col-md-6" style="padding:5px;">
              <label for="locwSpeed" style="font-size: 14px; font-weight: bold; color: rgb(23, 44, 82);">Local Wind Speed:</label>

              <select name="locwSpeed" id="locwSpeed" type="number" style="font-size: 12px; font-weight: bold; color: rgb(23, 44, 82);">
                <option value="" selected disabled>--Please choose an option--</option>
                <option value="2">2 m/s</option>
                <option value="3">3 m/s</option>
                <option value="5">5 m/s</option>
                <option value="10">10 m/s</option>
                <option value="12">12 m/s</option>
                <option value="15">15 m/s</option>
                <option value="20">20 m/s</option>
              </select>
            </div>
            <div class="col-lg-6 col-md-6" style="padding:5px;">
              <label for="pSpeed" style="font-size: 14px; font-weight: bold; color: rgb(23, 44, 82);">Propellor Angular Speed:</label>

              <select name="pSpeed" id="pSpeed" type="number" style="font-size: 12px; font-weight: bold; color: rgb(23, 44, 82);">
                <option value="" selected disabled>--Please choose an option--</option>
                <option value="0.1">0.1 rad/s</option>
                <option value="0.3">0.3 rad/s</option>
                <option value="0.5">0.5 rad/s</option>
                <option value="0.7">0.7 rad/s</option>
                <option value="0.9">0.9 rad/s</option>
                <option value="1.0">1.0 rad/s</option>
                <option value="1.1">1.1 rad/s</option>
                <option value="1.3">1.3 rad/s</option>
                <option value="1.5">1.5 rad/s</option>
                <option value="1.7">1.7 rad/s</option>
                <option value="1.9">1.9 rad/s</option>
                <option value="2.0">2.0 rad/s</option>
              </select>
            </div>
            <div class="col-lg-6 col-md-6" style="padding:5px;">
              <label for="material" style="font-size: 14px; font-weight: bold; color: rgb(23, 44, 82);">Material:</label>

              <select name="material" id="material" type="number" style="font-size: 12px; font-weight: bold; color: rgb(23, 44, 82);">
                <option value="" selected disabled>--Please choose an option--</option>
                <option value="1">Glass Fiber Composites</option>
                <option value="2">Carbon Fiber Composites</option>
                <option value="3">Resin Epoxy Composites</option>
                <option value="4">Steel</option>
                <option value="5">Aluminum</option>
              </select>
            </div>
            <div class="col-lg-6 col-md-6" style="padding:5px;">
              <label for="lift" style="font-size: 14px; font-weight: bold; color: rgb(23, 44, 82);">Lift Coefficient:</label>

              <select name="lift" id="lift" type="number" style="font-size: 12px; font-weight: bold; color: rgb(23, 44, 82);">
                <option value="" selected disabled>--Please choose an option--</option>
                <option value="0.1">0.1</option>
                <option value="0.2">0.2</option>
                <option value="0.3">0.3</option>
                <option value="0.4">0.4</option>
                <option value="0.5">0.5</option>
                <option value="0.6">0.6</option>
                <option value="0.7">0.7</option>
                <option value="0.8">0.8</option>
                <option value="0.9">0.9</option>
                <option value="1">1.0</option>
                <option value="1.1">1.1</option>
                <option value="1.2">1.2</option>
                <option value="1.3">1.3</option>
                <option value="1.4">1.4</option>
              </select>
            </div>
            <div class="col-lg-6 col-md-6" style="padding:5px;">
              <label for="drag" style="font-size: 14px; font-weight: bold; color: rgb(23, 44, 82);">Drag Coefficient:</label>

              <select name="drag" id="drag" type="number" style="font-size: 12px; font-weight: bold; color: rgb(23, 44, 82);">
                <option value="" selected disabled>--Please choose an option--</option>
                <option value="0.1">0.1</option>
                <option value="0.2">0.2</option>
                <option value="0.3">0.3</option>
                <option value="0.4">0.4</option>
                <option value="0.5">0.5</option>
                <option value="0.6">0.6</option>
                <option value="0.7">0.7</option>
                <option value="0.8">0.8</option>
                <option value="0.9">0.9</option>
                <option value="1">1.0</option>
                <option value="1.1">1.1</option>
                <option value="1.2">1.2</option>
                <option value="1.3">1.3</option>
                <option value="1.4">1.4</option>
              </select>
            </div>
            <div class="col-lg-6 col-md-6" style="padding:5px;">
              <label for="length" style="font-size: 14px; font-weight: bold; color: rgb(23, 44, 82);">Length of Blades:</label>

              <select name="length" id="length" type="number" style="font-size: 12px; font-weight: bold; color: rgb(23, 44, 82);">
                <option value="" selected disabled>--Please choose an option--</option>
                <option value="10">10 m</option>
                <option value="20">20 m</option>
                <option value="30">30 m</option>
                <option value="40">40 m</option>
                <option value="50">50 m</option>
                <option value="60">60 m</option>
              </select>
            </div>
            <div class="col-lg-6 col-md-6" style="padding:5px;">
              <label for="height" style="font-size: 14px; font-weight: bold; color: rgb(23, 44, 82);">Height of Tower:</label>

              <select name="height" id="height" type="number" style="font-size: 12px; font-weight: bold; color: rgb(23, 44, 82);">
                <option value="" selected disabled>--Please choose an option--</option>
                <option value="25">25 m</option>
                <option value="50">50 m</option>
                <option value="100">100 m</option>
              </select>
            </div>
            <div class="col-lg-6 col-md-6" style="padding:5px;">
              <label for="diameter" style="font-size: 14px; font-weight: bold; color: rgb(23, 44, 82);">Diameter of Tower:</label>

              <select name="diameter" id="diameter" type="number" style="font-size: 12px; font-weight: bold; color: rgb(23, 44, 82);">
                <option value="" selected disabled>--Please choose an option--</option>
                <option value="2">2 m</option>
                <option value="5">5 m</option>
                <option value="7">7 m</option>
                <option value="10">10 m</option>
              </select>
            </div>
            <div class="col-lg-6 col-md-6" style="padding:5px;">
              <label for="numBlades" style="font-size: 14px; font-weight: bold; color: rgb(23, 44, 82);">Number of Blades:</label>

              <select name="numBlades" id="numBlades" type="number" style="font-size: 12px; font-weight: bold; color: rgb(23, 44, 82);">
                <option value="" selected disabled>--Please choose an option--</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
              </select>
            </div>
            <div class="col-lg-6 col-md-6" style="padding:5px;">
              <label for="airDensity" style="font-size: 14px; font-weight: bold; color: rgb(23, 44, 82);">Region of Operation:</label>

              <select name="airDensity" id="airDensity" type="number" style="font-size: 12px; font-weight: bold; color: rgb(23, 44, 82);">
                <option value="" selected disabled>--Please choose an option--</option>
                <option value="1.23">Land</option>
                <option value="1.21">Offshore</option>
              </select>
            </div>
          </div>
          <br>
          <button type="button" class="btn btn-primary" onclick="sum()">Test</button>
          <br>
        </div>
        <div id="area" style="font-size: 16px; font-weight: bold; color: rgb(31, 78, 165);">
        </div>
        <br>
        <div id="speed" style="font-size: 16px; font-weight: bold; color: rgb(31, 78, 165);">
        </div>
        <br>
        <div id="tip" style="font-size: 16px; font-weight: bold; color: rgb(31, 78, 165);">
        </div>
        <br>
        <div id="coef" style="font-size: 16px; font-weight: bold; color: rgb(31, 78, 165);">
        </div>
        <br>
        <div id="pow" style="font-size: 16px; font-weight: bold; color: rgb(31, 78, 165);">
        </div>
        <br>
        <div id="sfactor_flap" style="font-size: 16px; font-weight: bold; color: rgb(31, 78, 165);">
        </div>
        <br>
        <div id="sfactor_edge" style="font-size: 16px; font-weight: bold; color: rgb(31, 78, 165);">
        </div>
        <br>
        <div id="localtip" style="font-size: 16px; font-weight: bold; color: rgb(31, 78, 165);">
        </div>
        <br>
        <div id="W" style="font-size: 16px; font-weight: bold; color: rgb(31, 78, 165);">
        </div>
        <br>
        <div id="Q" style="font-size: 16px; font-weight: bold; color: rgb(31, 78, 165);">
        </div>
        <br>
        <div id="L" style="font-size: 16px; font-weight: bold; color: rgb(31, 78, 165);">
        </div>
        <br>
        <div id="D" style="font-size: 16px; font-weight: bold; color: rgb(31, 78, 165);">
        </div>
        <br>
        <div id="T" style="font-size: 16px; font-weight: bold; color: rgb(31, 78, 165);">
        </div>
        <br>
        <div id="copt" style="font-size: 16px; font-weight: bold; color: rgb(31, 78, 165);">
        </div>
        <br>
        <div id="towersf" style="font-size: 16px; font-weight: bold; color: rgb(31, 78, 165);">
        </div>
        <br>
      </div>
    </section>
  </main>

  <script>
    function sum() {
      var ad = document.getElementById('airDensity');
      var airDensity = ad.value;
      var wd = document.getElementById('wSpeed');
      var wSpeed = wd.value;
      var pd = document.getElementById('pSpeed');
      var pSpeed = pd.value;
      var lh = document.getElementById('length');
      var length = lh.value;
      var ns = document.getElementById('numBlades');
      var numBlades = ns.value;
      var lt = document.getElementById('lift');
      var lift = lt.value;
      var dg = document.getElementById('drag');
      var drag = dg.value;
      var ld = document.getElementById('locwSpeed');
      var locwSpeed = ld.value;
      var ht = document.getElementById('height');
      var height = ht.value;
      var dr = document.getElementById('diameter');
      var diameter = dr.value;
      var ml = document.getElementById('material');
      var material = ml.value;


      var area = 3.14159265 * Number(length) * Number(length);
      var speed = Number(pSpeed) * Number(length);
      var tip = Number(speed) / Number(locwSpeed);
      var cd = (2 * Number(length)) / ((1/2) * Number(airDensity) * Number(area) * (Number(locwSpeed) - (Number(locwSpeed) - 2)) * (Number(locwSpeed) - (Number(locwSpeed) - 2)));
      var coef = Number(cd) * (Number(tip) - (2 * Number(tip) * Number(tip)) + (Number(tip) * Number(tip * Number(tip))));
      var pow = ((1 / 2) * Number(coef) * Number(airDensity) * Number(area) * Number(locwSpeed) * Number(locwSpeed) * Number(locwSpeed)) / 1000;
      var J = area.toFixed(2);
      var K = speed.toFixed(2);
      var F = tip.toFixed(1);
      var G = coef.toFixed(2);
      var H = pow.toFixed(2);
      document.getElementById('area').innerHTML = 'Rotor Swept Area = ' + J + " " + 'm^2';
      document.getElementById('speed').innerHTML = 'Linear speed of the propellor = ' + K + " " + 'm/s';
      document.getElementById('tip').innerHTML = 'Tip Speed Ratio = ' + F;
      document.getElementById('coef').innerHTML = 'Wind Turbine Coefficient = ' + G;
      document.getElementById('pow').innerHTML = 'Power Of The Turbine = ' + H + " " + 'kW';
      
      
      if (material == 1)
      {
        var ultimate_stress = 2048.5;
        var density = 1900;
        var safety_factor = 1.5;
        var E = 60;
      }
      else if (material == 2)
      {
        var ultimate_stress = 2260;
        var density = 1600;
        var safety_factor = 1.3;
        var E = 228;
      }
      else if (material == 3)
      {
        var ultimate_stress = 90;
        var density = 1168;
        var safety_factor = 1.8;
        var E = 3.1;
      }
      else if (material == 4)
      {
        var ultimate_stress = 586.5;
        var density = 7870;
        var safety_factor = 2;
        var E = 200;

      }
      else if (material == 5)
      {
        var ultimate_stress = 100;
        var density = 2700;
        var safety_factor = 2;
        var E = 70;
      }

      var A_flap = (8 / 81) * ((Number(airDensity) * Math.pow(Number(locwSpeed), 2) * 3.14159 * Math.pow(Number(length), 3)) / (Number(ultimate_stress) * (0.066 * Number(length) + 0.082)));
      var A_edge = ((Number(density) * 9.81 * Math.pow(Number(length), 2)) / ((Number(ultimate_stress) * (0.13 * Number(length) + 0.082)) - (Number(density) * 9.81 * Math.pow(Number(length), 2)))) * Number(A_flap);
      var A_blade = 2 * (Number(A_flap) + Number(A_edge));
      var x_flap = (8 / 81) * ((Number(airDensity) * Math.pow(Number(locwSpeed), 2) * 3.14159 * Math.pow(Number(length), 3)) / (Number(A_flap) * (0.066 * Number(length) + 0.082)));
      var x_edge = (1 / 2) * ((Number(density) * Number(A_blade) * 9.81 * Math.pow(Number(length), 2)) / (Number(ultimate_stress) * (0.13 * Number(length) + 0.082)))
      
      var sfactor_flap = Number(ultimate_stress) / Number(x_flap);
      var sfactor_edge = Number(ultimate_stress) / Number(x_edge);
      var I = sfactor_flap.toFixed(2);
      var O = sfactor_edge.toFixed(2);
      
      document.getElementById('sfactor_flap').innerHTML = 'Material Safety Factor_Flap = ' + I;
      document.getElementById('sfactor_edge').innerHTML = 'Material Safety Factor_Edge = ' + O;

      

      var local_tip_ratio = 0.55 * ((Number(pSpeed) * Number(length)) / Number(locwSpeed));
      var hu = 1 / Number(local_tip_ratio);
      var Beta = 90 - (2/3 * Math.atan(Number(hu)));
      var copt = (2 * 3.14159 * Number(length) * 8 * Number(wSpeed)) / (Number(numBlades) * 9 * Number(lift) * Number(tip) * Number(locwSpeed));
      var hash = 0.775 * ((Number(numBlades) * Number(copt)) / (1.1 * 3.14159 * Number(length)));
      var cos = Math.cos(Number(Beta));
      var alpha = 1 + ((4 * Math.pow(Number(cos), 2)) / (Number(hash) * Number(lift) * Math.sin(Number(Beta))));
      var W = (Number(locwSpeed) * (1 - Number(alpha))) / Math.cos(Number(Beta));
      var L = 0.213 * Number(lift) * Number(airDensity) * Math.pow(Number(W), 2) * Number(copt) * Number(length);
      var D = 0.213 * Number(drag) * Number(airDensity) * Math.pow(Number(W), 2) * Number(copt) * Number(length);
      
      var o = 0.495 * Math.cos(Number(Beta));
      var p = -1 * Number(numBlades) / Number(o);
      var q = Math.exp(Number(p));
      var Q = (2 / 3.14159) * Math.acos(Number(q));
      var Fx = 0.55 * Number(Q) * Number(airDensity) * Math.pow(Number(locwSpeed), 2) * ((4 * Number(alpha)) * (1 - Number(alpha))) * 3.14159 * Math.pow(Number(length), 2);
      var max_tower = Number(Fx) / (Number(height) * Number(diameter)); 
      var tower_sf = Number(ultimate_stress) / Number(max_tower);
      var ahash = (1 - (3 * Number(alpha))) / ((4 * Number(alpha)) -1);
      var T = 2.2 * Number(Q) * Number(ahash) * (1 - Number(alpha)) * Number(airDensity) * Number(locwSpeed) * Number(pSpeed) * Math.pow(Number(length), 4) * 3.14159;

      var r = local_tip_ratio.toFixed(2);
      var s = W.toFixed(2);
      var t = Q.toFixed(2);
      var u = copt.toFixed(2);
      var v = L.toFixed(2);
      var w = D.toFixed(2);
      var x = T.toFixed(2);
      var y = tower_sf.toFixed(2);

      document.getElementById('towersf').innerHTML = 'Tower Safety Factor = ' + y;
      document.getElementById('localtip').innerHTML = 'Local Tip Speed Ratio = ' + r;
      document.getElementById('W').innerHTML = 'Relative Wind Velocity = ' + s;
      document.getElementById('Q').innerHTML = 'Tip Loss Correction Factor = ' + t;
      document.getElementById('copt').innerHTML = 'Optimum Chord Length = ' + u;
      document.getElementById('L').innerHTML = 'Lift Force = ' + v;
      document.getElementById('D').innerHTML = 'Drag Force = ' + w;
      document.getElementById('T').innerHTML = 'Torque = ' + x;

    }
  </script>
</body>

</html>